pre-push:
  jobs:
    - name: packages audit
      tags:
        - frontend
        - security
      run: yarn audit

pre-commit:
  parallel: true
  jobs:
    - name: gofmt
      glob: "*.go"
      run: gofmt -w {staged_files}

    - name: golangci-lint
      glob: "*.go"
      run: mise run lint

    - name: govet
      glob: "*.go"
      run: go vet ./...

    - name: test-short
      run: go test -short ./...
